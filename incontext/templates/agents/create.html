{% extends 'base.html' %}

{% block header %}
	<h1>{% block title %}New Agent{% endblock %}</h1>
{% endblock %}

{% block main %}
	<form method="post">
		<label for="model">Model
			<select name="model" id="model" required autofocus>
				<option value="gpt-4.1-mini">ChatGPT 4.1 mini</option>
				<option value="gpt-4.1">ChatGPT 4.1</option>
				<option value="claude-3-5-haiku-latest">Claude Haiku 3.5</option>
				<option value="claude-3-7-sonnet-latest">Claude Sonnet 3.7</option>
			</select>
		</label>
		<label for="name">Name
			<input name="name" id="name" value="{{ request.form['name'] }}" required>
		</label>
		<label for="role">Role
			<input name="role" id="role" value="{{ request.form['role'] }}" required>
		</label>
		<label for="instructions">Instructions
			<textarea name="instructions" id="instructions" required>{{ request.form['instructions'] }}</textarea>
		</label>
		<input type="submit" value="Save">
	</form>
	<script>
		const opts = document.querySelectorAll('#model option');
		opts.forEach((opt) => if (opt.value === {{ request.form['model'] }}) opt.selected = true;)
	</script>
{% endblock %}
